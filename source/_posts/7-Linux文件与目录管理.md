title: Linux文件与目录管理
author: WENCHIH CHANG
author_id: wenchih99@github.com
date: 2020-12-02 10:56:46
tags: linux
language:
archives:
categories: [linux,Linux文件、目录与磁盘格式]
---
# 目录与路径
<!--more-->
- 相对路径与绝对路径
  - 相对:由当前目录写起
  - 绝对:由根目录/写起
- 目录的相关操作
  - `.`:代表此层目录
  - `..`:代表上一层目录
  - `-`:代表前一个工作目录
  - `~`:代表目前使用者身份所在的家目录
  - `~account`:代表account这个使用者的家目录
- 处理目录的命令 
  - `cd`:切换目录
  - `pwd`:显示当前目录
  - `mkdir`:建立一个新目录
  - `rmdir`:删除一个空目录
  - `Tab`可自动补全目录路径
  - `rm`:可删除目录下的所有文件
- 关于执行文件路径的变量:`$PATH`

# 文件与目录管理
- 文件与目录的查看:`ls`
- 复制文件或目录:`cp`
- 复制、删除与移动:`cp`、`rm`、`mv`
- cp命令注意事项
  - 是否需要完整的保留源文件的信息
  - 源文件是否为符号链接文件(symbolic link file)
  - 源文件是否为特殊的文件,例如FIFO、socket等
  - 源文件是否为目录

# 文件内容查看
- `cat`由第一行开始显示文件内容(concatenate)
- `tac`从最后一行开始显示,可以看出`tac`是`cat`倒着写
- `nt`显示的时候,同时输出行号
- `more`一页一页地显示文件内容
- `less`与`more`类似,但是比`more`更好的是,它可以往前翻页
- `head`只看后面几行
- `od`以二进制的方式读取文件内容
- 管道符号:`|`
- 修改文件时间或创建新文件:`touch`
  - 建立一个空文件
  - 将某个文件日期自定义为目前(mtime与atime)
- 时间参数
  - 修改时间(modification time,mtime):内容修改
  - 状态时间(status time,ctime):属性修改
  - 读取时间(access time,atime):打开时间
- 文件与目录的默认权限与隐藏权限

# 文件与目录的默认权限与隐藏权限
- 文件默认权限:`umask`
  - `umask`共有四个数字,每个数字表示拿去相应的权限
- 配置文件隐藏属性:`chattr`
  - `+a`:只能增加数据,不能修改和删除数据
  - `+i`:让一个文件不能进行任何操作
- 显示文件隐藏属性:`lsattr`
- 文件特殊权限:SUID、SGID、SBIT
- Set UID(SUID)
  - SUID权限仅对二进制程序有效
  - 执行者对于该程序需要具有x的可执行权限
  - 本权限仅在执行该程序的过程中有效
  - 执行者将具有该程序拥有者的权限
- Set GID(SGID)
  - SGID对二进制有用
  - 程序执行者对于该程序来说,需具备x的权限
  - 执行者在执行的过程中将会获得该程序用户组的支持
- Sticky Bit(SBIT)
  - 仅对目录有效
  - 当用户对此目录有w、x权限,即具有写入的权限
  - 用户只能够针对自己建立的文件或目录进行删除、更名、移动等操作,而无法删除他人的文件
- 观察文件类型:`file`

# 命令与文件的查找
- 脚本文件的查找
  - `which`(查找执行文件)
  - `type`
- 文件的查找
  - `whereis`:在一些特定的目录中查找文件
  - `locate`:在已建立的数据库/var/lib/mlocate/里面的数据中查找用户所输入关键词的文件名
  - `updatedb`:根据/etc/updatedb.conf的设置去查找系统硬盘内的文件,并更新数据库文件
  - `find`:全系统查询