title: Python笔记
author: WENCHIH CHANG
author_id: wenchih99@github.com
date: 2020-12-02 10:56:46
tags: python
language:
archives:
categories: [python]
---
# Pyhton 笔记
<!--more-->
## 一、变量

    1、字符串变量,定义形式为:name = “字符串”
    2、整型变量,name = 数字(无引号)
    3、整型变量与字符串变量的转换为:字符串等于str(整型变量)

## 二、字符串

    ps:name为变量
    1、name.title()将变量中的每个单词的首字母大写
    2、upper()lower()将变量中的字母均变成大写或小写
    3、变量可以直接相加减,例:变量a=变量b+变量c
    4、删除变量中首或尾的空白,函数为:name.rstrip()、name.lstrip()、name.strip()
    5、字符串变量.replace('a','b')；在字符串中,将字串a变为字串b
    6、检查一个字符串是否包含在另一个中,用if a in b:的形式

## 三、列表

    ps:由一系列按特定顺序排列的元素组成。你可以创建包含字母表中所有字母、数字0~9或所有家庭成员姓名的列表。其中元素之间可以没有关系
    0、创建空列表,name=[],索引可用负数,但对insert函数没有用
    1、字符串和整型变量可以混合存,name=['fdgf',3,'4']
    2、修改元素:直接恒等式就行,name[i]=''
    3、添加元素:添加到末尾列表:name.append('');添加到指定位置:name.insert(索引,'')
    4、删除元素:del name[i];弹出函数name.pop(),弹出最后元素;弹出指定元素,name.pop(索引);根据元素值删除元素,remove('');ps:remove只删除第一个指定的值
    5、永久性排序,正向name.sort(),反向name.sort(reverse=True);临时排序,sorted(name),返回临时列表,可结合print一同使用
    6、反转列表,name.reverse()
    7、列表长度,len(name),返回数字
    8、数值列表,max(name),sum(name),min(name),返回最大、和、最小值
    9、列表解析squares = [value**2 for value in range(1,11)],充分缩减代码行,需要勤加练习,value**2是表达式
    10、切片用法:name[开始x:结束y],范围:[x,y) ps:xy均为索引,可用负数  ps:切片就相当与副本,不与原列表冲突
    11、全部切片[:],里面啥也没有,可以用来复制列表,例:name1=name[:],这样形成的列表是一个全新的列表,和那么无关系,如果这样:name1=name,则二者是互通的。

## 四、元组

    ps:不可修改的列表,如果修改,可以重新定义整个元组
    1、定义:name=(‘’,‘’) ps:这里是小括号

## 五、if/elif/else

    1、用法:if 条件:,or为或,and为且
    2、特征值包含在列表中 name in names,不包含 name not in names

## 六、字典

    ps:一系列键值对,键与值之间用冒号分隔
    1、定义:name={‘键’:‘值’}
    2、删除键值对:del name['键']
    3、用for遍历字典:for 键,值 in name.items():
    4、字典的键值可以组成一个列表,键:name.keys();值:name.values()
    5、字典列表:列表中储存字典

## 七、input

    ps:文件名就是模块名
    1、name=input('文本')；文本为显示给用户的内容,name为字符串变量
    2、将输入的字符串变量转为整型变量,用int(name)的形式
    3、while用法与for相似

## 八、函数

    1、定义:def 函数名(形参,形参……):   不要忘记冒号
    2、传递实参:位置参数、关键字参数、默认值(可给形参赋予默认值)
    3、传递任意数量实参。形参名带*号表示创建一个元组,从而实参数量可以不确定
    4、传递任意数量关键字实参。形参名带**号表示创建一个字典
    5、导入函数模块,用(import 文件名)的形式；调用函数使用:(文件名.函数名)的形式
    6、导入特定的函数,形式:(from 文件名 import 函数1,函数2……)；调用函数时就直接调用就行了
    7、导用时用as指定别名,给函数指定别名:(from 文件名 import 函数名 as 别名)；给模块指定别名(import 文件名 as 别名)
    8、导入模块中所有函数形式:(from 文件名 import *)

## 九、类

    1、创建类 class ClassName(object): 类名首字母大写,返回一个类的实例
    2、类分为方法和属性,类可看为结构体,属性可看为变量,方法可看为函数；调用时用(类名.属性/方法)的形式
    3、类其中一个特殊方法且自动生成 就是__init__(self);每个方法都必须且自动有self这个形参,self指向实例本身
    4、修改类的属性,可以直接赋值修改,还可以通过方法进行一类的修改
    5、继承,继承父类的所有属性和方法
        形式:
        class 子类名(父类名):
            def __init__(self,make,model,year):
                super().__init__(make,model,year)
    6、子类就可以重新定义一些特有的属性和方法了
    7、导入类:from 文件名 import 类名1,类名2……
    8、导入整个模块:import 文件名；用文件名.类名的形式访问(这种方式比较推荐)
    9、导入模块中所有类:from 文件名 import *(不推荐,因为有重名风险)
    10、在一个模块中导入另一个模块,从而形成嵌套缺一不可的情形(根据个人理解进行逻辑嵌套)

## 十、文件和异常

    1、文件读入:open(‘文件名.后缀’);函数返回一个对象,需要把他储存在一个变量里
    2、有open就有close,但有时候把控不好close在什么时候运行好,就引申出关键字with,它可以根据实际情况自动关闭文本文件
        用法:with open(‘文件名.后缀’) as 变量名,(此时变量只在with代码块里使用,变量就相当与一行组成一个变量存到列表中去)
    3、路径(绝对路径、相对路径都可以),Windows下用反斜杠\
    4、读取文件的全部内容,用.read()
    5、逐行读取:for 临时变量 in 文本变量,此循环在with代码块下可用
    6、创建一个包含文件各行内容的列表,用列表变量=文本变量.readlines()的形式
    7、写入文件
        with (文本名,模式选项) as 文本变量:
            文本变量.write(要写入的文本)
        模式选项:r(默认项,读取模式)；w(写入模式,清空文件再写入)；a(附加模式,添加到文件末尾)；
    8、处理traceback异常,用 try-except-else 语句,try放可能出现错误语句,except放如何做语句,else放没出现错误时正常运行的语句
    9、 分析文本,将文本按空格分隔开存到一个单词列表,列表变量.split()
    10、存储数据。保存数据用json.dump(变量名,文件变量)；读取数据用json.load(文件变量),返回的值存到一个变量中
    11、重构:将代码划分为一系列完成具体工作的函数。重构让代码更清晰、更易于理解、更容易扩展。

## 十一、测试代码

    1、单元测试:用于核实函数的某个方面没有问题；测试用例:是一组单元测试,这些单元测试一起核实函数在各种情形下的 行为都符合要求。
    2、测试函数,先引入模块unittest,再创建一个继承unittest.TestCase的类,再编写一系列方法对函数不同方面进行测试
    3、运行文件中的测试,用代码行unittest.main()
    4、断言方法:认为应该满足的条件是否确实满足； self.assertEqual(a,b),判断a和b是否相等
    5、掌握各类断言方法assertEqual(a, b)、assertNotEqual(a, b)、assertTrue(x)、assertFalse(x)、assertIn(item,list)、assertNotIn(item,list)
    6、对于要测试的类,可统一只用方法setUp(),可在setUp() 方法中创建一系列实例并设置它们的属性,再在测试方法中直接使用这些实例。相比于在每个 测试方法中都创建实例并设置其属性,这要容易得多。
    7、执行测试时,莫忘了代码行unittest.main()

## PS: 
    1、浮点数精度问题:例:0.2+0.1/3\*0.1
    2、import this(python 之禅)
    3、range()生成数字列表,用法:range(开始数字 x,结束数字 y),范围:[x,y)
    4、将数字转化为列表,例:name=list(range(开始数字,结束数字))
    5、生成偶数列表,例:range(2,11,2),表示每次加 2
    6、for 循环使用形式:‘for 变量 in 列表:’,记得每行缩进；
    7、对于列表的重复项,可用 set(name)去重(重复)
    8、break、continue、pass break 表示退出此循环；continue 表示重新进入次循环,语句后面的代码省略；pass 仅表示略过此句,后面的代码照常进行

